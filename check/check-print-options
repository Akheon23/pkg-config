#! /bin/sh

set -e
. ${srcdir}/common

# --version
RESULT=$PACKAGE_VERSION
run_test --version

# --modversion
RESULT=1.0.0
run_test --modversion simple

# --print-variables
RESULT="exec_prefix
prefix
libdir
includedir"
run_test --print-variables simple

# --print-provides
RESULT="simple = 1.0.0"
run_test --print-provides simple

# --print-requires
RESULT="public-dep >= 1"
run_test --print-requires requires-test

# --print-requires-private
RESULT="private-dep >= 1"
run_test --print-requires-private requires-test

# --list-all, limit to a subdirectory
RESULT="sub1 Subdirectory package 1 - Test package 1 for subdirectory
sub2 Subdirectory package 2 - Test package 2 for subdirectory"
PKG_CONFIG_LIBDIR="$srcdir/sub" run_test --list-all
